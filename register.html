<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MigrantConnect - Register</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <style>
      .registration-container {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px 0;
      }

      .registration-card {
        border: none;
        border-radius: 16px;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
      }

      .nav-tabs .nav-link {
        border: none;
        border-radius: 8px 8px 0 0;
        color: #6c757d;
        font-weight: 600;
      }

      .nav-tabs .nav-link.active {
        background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
        color: white;
      }

      .skill-badge {
        background: #e3f2fd;
        color: #1976d2;
        border: 1px solid #bbdefb;
        border-radius: 20px;
        padding: 5px 12px;
        margin: 2px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .skill-badge.selected {
        background: #1976d2;
        color: white;
      }

      .skill-badge:hover {
        background: #1976d2;
        color: white;
      }

      .form-floating label {
        color: #6c757d;
      }

      .btn-gradient {
        background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
        border: none;
        border-radius: 8px;
        padding: 12px 30px;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .btn-gradient:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(37, 99, 235, 0.3);
      }
    </style>
  </head>
  <body>
    <div class="registration-container">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-8 col-lg-6">
            <!-- Header -->
            <div class="text-center mb-4">
              <a href="landing.html" class="btn btn-outline-light mb-3">
                <i class="fas fa-arrow-left me-2"></i>Back to Home
              </a>
              <h1 class="text-white mb-2">Create an Account</h1>
              <p class="text-white-50">
                Register to access the MigrantConnect platform
              </p>
            </div>

            <!-- Registration Form -->
            <div class="card registration-card">
              <div class="card-body p-0">
                <!-- Tabs -->
                <ul
                  class="nav nav-tabs nav-fill"
                  id="registrationTabs"
                  role="tablist"
                >
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link active"
                      id="worker-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#worker-registration"
                      type="button"
                      role="tab"
                    >
                      <i class="fas fa-user me-2"></i>Worker Registration
                    </button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link"
                      id="employer-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#employer-registration"
                      type="button"
                      role="tab"
                    >
                      <i class="fas fa-building me-2"></i>Employer Registration
                    </button>
                  </li>
                </ul>

                <div class="tab-content p-4" id="registrationTabsContent">
                  <!-- Worker Registration -->
                  <div
                    class="tab-pane fade show active"
                    id="worker-registration"
                    role="tabpanel"
                  >
                    <form id="workerRegistrationForm">
                      <div class="row g-3">
                        <!-- Basic Information -->
                        <div class="col-12">
                          <h6 class="text-muted mb-3">Basic Information</h6>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              id="workerFirstName"
                              placeholder="First Name"
                              required
                            />
                            <label for="workerFirstName">First Name</label>
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              id="workerLastName"
                              placeholder="Last Name"
                              required
                            />
                            <label for="workerLastName">Last Name</label>
                          </div>
                        </div>

                        <div class="col-12">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              id="workerAadhaar"
                              placeholder="Aadhaar Number"
                              pattern="[0-9]{12}"
                              required
                            />
                            <label for="workerAadhaar"
                              >Aadhaar Number (12 digits)</label
                            >
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <input
                              type="tel"
                              class="form-control"
                              id="workerPhone"
                              placeholder="Phone Number"
                              required
                            />
                            <label for="workerPhone">Phone Number</label>
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <input
                              type="date"
                              class="form-control"
                              id="workerDOB"
                              required
                            />
                            <label for="workerDOB">Date of Birth</label>
                          </div>
                        </div>

                        <!-- Location Information -->
                        <div class="col-12 mt-4">
                          <h6 class="text-muted mb-3">Location Information</h6>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <select
                              class="form-select"
                              id="workerHomeState"
                              required
                            >
                              <option value="">Select Home State</option>
                              <option value="bihar">Bihar</option>
                              <option value="uttar-pradesh">
                                Uttar Pradesh
                              </option>
                              <option value="west-bengal">West Bengal</option>
                              <option value="rajasthan">Rajasthan</option>
                              <option value="odisha">Odisha</option>
                            </select>
                            <label for="workerHomeState">Home State</label>
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <select
                              class="form-select"
                              id="workerCurrentState"
                              required
                            >
                              <option value="">Select Current State</option>
                              <option value="delhi">Delhi</option>
                              <option value="maharashtra">Maharashtra</option>
                              <option value="karnataka">Karnataka</option>
                              <option value="gujarat">Gujarat</option>
                              <option value="tamil-nadu">Tamil Nadu</option>
                            </select>
                            <label for="workerCurrentState"
                              >Current Working State</label
                            >
                          </div>
                        </div>

                        <!-- Skills Section -->
                        <div class="col-12 mt-4">
                          <h6 class="text-muted mb-3">Skills & Experience</h6>
                          <p class="small text-muted">
                            Select your skills (click to select/deselect):
                          </p>
                          <div id="skillsContainer" class="mb-3">
                            <span class="skill-badge" data-skill="construction"
                              >Construction</span
                            >
                            <span class="skill-badge" data-skill="plumbing"
                              >Plumbing</span
                            >
                            <span class="skill-badge" data-skill="electrical"
                              >Electrical Work</span
                            >
                            <span class="skill-badge" data-skill="painting"
                              >Painting</span
                            >
                            <span class="skill-badge" data-skill="welding"
                              >Welding</span
                            >
                            <span class="skill-badge" data-skill="carpentry"
                              >Carpentry</span
                            >
                            <span class="skill-badge" data-skill="masonry"
                              >Masonry</span
                            >
                            <span class="skill-badge" data-skill="cleaning"
                              >Cleaning</span
                            >
                            <span class="skill-badge" data-skill="security"
                              >Security</span
                            >
                            <span class="skill-badge" data-skill="driving"
                              >Driving</span
                            >
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <select
                              class="form-select"
                              id="workerExperience"
                              required
                            >
                              <option value="">Select Experience</option>
                              <option value="0-1">0-1 years</option>
                              <option value="1-3">1-3 years</option>
                              <option value="3-5">3-5 years</option>
                              <option value="5+">5+ years</option>
                            </select>
                            <label for="workerExperience"
                              >Years of Experience</label
                            >
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <select
                              class="form-select"
                              id="workerLanguage"
                              required
                            >
                              <option value="">Select Primary Language</option>
                              <option value="hi">हिंदी</option>
                              <option value="en">English</option>
                              <option value="bn">বাংলা</option>
                              <option value="te">తెలుగు</option>
                              <option value="ta">தமிழ்</option>
                              <option value="mr">मराठी</option>
                            </select>
                            <label for="workerLanguage">Primary Language</label>
                          </div>
                        </div>

                        <div class="col-12 mt-4">
                          <button type="submit" class="btn btn-gradient w-100">
                            <i class="fas fa-user-plus me-2"></i>Register as
                            Worker
                          </button>
                        </div>
                      </div>
                    </form>
                  </div>

                  <!-- Employer Registration -->
                  <div
                    class="tab-pane fade"
                    id="employer-registration"
                    role="tabpanel"
                  >
                    <form id="employerRegistrationForm">
                      <div class="row g-3">
                        <!-- Company Information -->
                        <div class="col-12">
                          <h6 class="text-muted mb-3">Company Information</h6>
                        </div>

                        <div class="col-12">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              id="companyName"
                              placeholder="Company Name"
                              required
                            />
                            <label for="companyName">Company Name</label>
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              id="companyRegNumber"
                              placeholder="Registration Number"
                              required
                            />
                            <label for="companyRegNumber"
                              >Registration Number</label
                            >
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <select
                              class="form-select"
                              id="companyType"
                              required
                            >
                              <option value="">Select Company Type</option>
                              <option value="construction">Construction</option>
                              <option value="manufacturing">
                                Manufacturing
                              </option>
                              <option value="agriculture">Agriculture</option>
                              <option value="services">Services</option>
                              <option value="other">Other</option>
                            </select>
                            <label for="companyType">Company Type</label>
                          </div>
                        </div>

                        <div class="col-12">
                          <div class="form-floating">
                            <textarea
                              class="form-control"
                              id="companyAddress"
                              placeholder="Company Address"
                              style="height: 100px"
                              required
                            ></textarea>
                            <label for="companyAddress">Company Address</label>
                          </div>
                        </div>

                        <!-- Contact Person Information -->
                        <div class="col-12 mt-4">
                          <h6 class="text-muted mb-3">
                            Contact Person Information
                          </h6>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              id="contactPersonName"
                              placeholder="Contact Person Name"
                              required
                            />
                            <label for="contactPersonName"
                              >Contact Person Name</label
                            >
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <input
                              type="text"
                              class="form-control"
                              id="contactDesignation"
                              placeholder="Designation"
                              required
                            />
                            <label for="contactDesignation">Designation</label>
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <input
                              type="email"
                              class="form-control"
                              id="contactEmail"
                              placeholder="Email"
                              required
                            />
                            <label for="contactEmail">Email Address</label>
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <input
                              type="tel"
                              class="form-control"
                              id="contactPhone"
                              placeholder="Phone"
                              required
                            />
                            <label for="contactPhone">Phone Number</label>
                          </div>
                        </div>

                        <!-- Login Credentials -->
                        <div class="col-12 mt-4">
                          <h6 class="text-muted mb-3">Login Credentials</h6>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <input
                              type="password"
                              class="form-control"
                              id="employerPassword"
                              placeholder="Password"
                              required
                            />
                            <label for="employerPassword">Password</label>
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div class="form-floating">
                            <input
                              type="password"
                              class="form-control"
                              id="confirmPassword"
                              placeholder="Confirm Password"
                              required
                            />
                            <label for="confirmPassword"
                              >Confirm Password</label
                            >
                          </div>
                        </div>

                        <div class="col-12 mt-4">
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              id="agreeTerms"
                              required
                            />
                            <label class="form-check-label" for="agreeTerms">
                              I agree to the
                              <a href="#" class="text-decoration-none"
                                >Terms and Conditions</a
                              >
                            </label>
                          </div>
                        </div>

                        <div class="col-12 mt-4">
                          <button type="submit" class="btn btn-gradient w-100">
                            <i class="fas fa-building me-2"></i>Register as
                            Employer
                          </button>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>

            <!-- Footer Links -->
            <div class="text-center mt-4">
              <p class="text-white-50">
                Already have an account?
                <a
                  href="index.html"
                  class="text-white text-decoration-none fw-bold"
                  >Login here</a
                >
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Success Modal -->
    <div class="modal fade" id="successModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-body text-center py-5">
            <i
              class="fas fa-check-circle text-success"
              style="font-size: 4rem"
            ></i>
            <h4 class="mt-3 mb-3">Registration Successful!</h4>
            <p class="text-muted mb-4">
              Your account has been created successfully. You can now login to
              access the platform.
            </p>
            <button
              type="button"
              class="btn btn-primary"
              onclick="redirectToLogin()"
            >
              Go to Login
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/language.js"></script>
    <script>
      let selectedSkills = [];

      document.addEventListener("DOMContentLoaded", function () {
        // Check URL parameters for user type
        const urlParams = new URLSearchParams(window.location.search);
        const type = urlParams.get("type");

        if (type === "employer") {
          document.getElementById("employer-tab").click();
        }

        // Initialize skill selection
        initializeSkillSelection();
      });

      function initializeSkillSelection() {
        const skillBadges = document.querySelectorAll(".skill-badge");
        skillBadges.forEach((badge) => {
          badge.addEventListener("click", function () {
            const skill = this.getAttribute("data-skill");
            if (this.classList.contains("selected")) {
              this.classList.remove("selected");
              selectedSkills = selectedSkills.filter((s) => s !== skill);
            } else {
              this.classList.add("selected");
              selectedSkills.push(skill);
            }
          });
        });
      }

      // Worker Registration Form Handler
      document
        .getElementById("workerRegistrationForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const formData = {
            type: "worker",
            firstName: document.getElementById("workerFirstName").value,
            lastName: document.getElementById("workerLastName").value,
            aadhaar: document.getElementById("workerAadhaar").value,
            phone: document.getElementById("workerPhone").value,
            dob: document.getElementById("workerDOB").value,
            homeState: document.getElementById("workerHomeState").value,
            currentState: document.getElementById("workerCurrentState").value,
            skills: selectedSkills,
            experience: document.getElementById("workerExperience").value,
            language: document.getElementById("workerLanguage").value,
            registrationDate: new Date().toISOString(),
          };

          // Validate required fields
          if (selectedSkills.length === 0) {
            alert("Please select at least one skill");
            return;
          }

          // Store registration data (in real app, this would be sent to server)
          const registeredUsers = JSON.parse(
            localStorage.getItem("registeredUsers") || "[]"
          );
          registeredUsers.push(formData);
          localStorage.setItem(
            "registeredUsers",
            JSON.stringify(registeredUsers)
          );

          // Show success modal
          new bootstrap.Modal(document.getElementById("successModal")).show();
        });

      // Employer Registration Form Handler
      document
        .getElementById("employerRegistrationForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const password = document.getElementById("employerPassword").value;
          const confirmPassword =
            document.getElementById("confirmPassword").value;

          if (password !== confirmPassword) {
            alert("Passwords do not match");
            return;
          }

          const formData = {
            type: "employer",
            companyName: document.getElementById("companyName").value,
            registrationNumber:
              document.getElementById("companyRegNumber").value,
            companyType: document.getElementById("companyType").value,
            address: document.getElementById("companyAddress").value,
            contactPerson: document.getElementById("contactPersonName").value,
            designation: document.getElementById("contactDesignation").value,
            email: document.getElementById("contactEmail").value,
            phone: document.getElementById("contactPhone").value,
            password: password,
            registrationDate: new Date().toISOString(),
          };

          // Store registration data (in real app, this would be sent to server)
          const registeredEmployers = JSON.parse(
            localStorage.getItem("registeredEmployers") || "[]"
          );
          registeredEmployers.push(formData);
          localStorage.setItem(
            "registeredEmployers",
            JSON.stringify(registeredEmployers)
          );

          // Show success modal
          new bootstrap.Modal(document.getElementById("successModal")).show();
        });

      function redirectToLogin() {
        window.location.href = "index.html";
      }
    </script>
  </body>
</html>
